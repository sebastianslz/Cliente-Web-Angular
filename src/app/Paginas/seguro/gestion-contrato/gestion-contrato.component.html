<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!-- Ionicons -->
  <link rel="stylesheet" href="../../../../../assets/bower_components/Ionicons/css/ionicons.min.css">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="../../../../../assets/bower_components/font-awesome/css/font-awesome.min.css">
  <!-- Bootstrap 3.3.7 -->
  <link rel="stylesheet" href="../../../../../assets/bower_components/bootstrap/dist/css/bootstrap.min.css">
  <!-- bootstrap datepicker -->
  <link rel="stylesheet" href="../../../../../assets/bower_components/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css">
  <!-- Bootstrap Color Picker -->
  <link rel="stylesheet" href="../../../../../assets/bower_components/bootstrap-colorpicker/dist/css/bootstrap-colorpicker.min.css">

  <!-- Theme style -->
  <link rel="stylesheet" href="../../../../../assets/dist/css/AdminLTE.min.css">
  <!-- AdminLTE Skins. Choose a skin from the css/skins
                   folder instead of downloading all of them to reduce the load. -->
  <link rel="stylesheet" href="../../../../../assets/dist/css/skins/_all-skins.min.css">

</head>

<section class="content-header">
  <h1>
    Administracion de contratos
  </h1>
  <ol class="breadcrumb">
    <li>
      <a href="#">
        <i class="fa fa-dashboard"></i> Inicio</a>
    </li>
    <li>
      <a href="#">Dashboard</a>
    </li>
    <li class="active">Administracion de contratos</li>
  </ol>
</section>

<section class="content">
  <div class="row">
    <div class="col-md-6">
      <div class="box box-success">
        <div class="box-header with-border">
          <div class="section_subtitle"> Numero de contratos finalizados para registar en ventas
            ({{constratosFinales.length}})</div><br>

        </div>
        <table class="table">
          <thead>
            <tr>
              <th scope="col">Id del contrato</th>
              <th scope="col">Cliente</th>
              <th scope="col">Empleado que finalizo el contrato</th>
              <th scope="col">Matriucla del inmueble</th>
              <th scope="col">Fecha de finalizacion del contrato</th>
              <th scope="col">Accion</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let i of constratosFinales">
              <td>{{i.id}}</td>
              <td>{{i.cliente.persona.cedula}}</td>
              <td>{{i.empleado.usuario.persona.cedula}}</td>
              <td>{{i.visita.inmueble.numero_matricula}}</td>
              <td>{{i.fecha_finalizacion}}</td>
              <td><button class="btn" (click)="ver(i)">finalizar venta</button></td>

            </tr>
          </tbody>
        </table>
      </div>
    </div>


    <div class="col-md-6">
      <div class="box box-success">
        <div class="box-header with-border">
          <h3 class="box-title">Datos necesarios para finalizar la venta </h3>

        </div>
          <div><input type="text" [(ngModel)]="descripcionSel" name="descripcion" class="contact_input"
            placeholder="descripcion de la venta" required="required"></div> 

            <form #datosForm="ngForm" class="contact_form" id="contact_form">
              <div class="col-lg-6">
                <button *ngIf="verSelec" type="submit" (click)="registrar(datosForm)" style="width: 100%" class="contact_button button">Asignar
                  Venta</button>
              </div>
            </form>       
      </div>
    </div>

     <!--Lista de inmuebles en venta-->

     
     <div class="col-lg-8">
      <br>
      <div class="section_subtitle"> Listado de las ventas de la inmobiliaria</div><br>
      <div class="section_subtitle"> Numero de ventas: ({{ventas.length}})</div><br>
      <table class="table">
        <thead>
          <tr>
            <th scope="col">Id de la venta</th>
            <th scope="col">Cliente</th>
            <th scope="col">Fecha de finalizacion de la venta</th>
            <th scope="col">Matriucla del inmueble</th>
            <th scope="col">Empleado que finalizo la venta</th>
      
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let v of ventas">
            <td>{{v.id}}</td>
            <td>{{v.contrato.cliente.persona.cedula}}</td>
            <td>{{v.fecha}}</td>
            <td>{{v.contrato.visita.inmueble.numero_matricula}}</td>
            <td>{{v.empleado.usuario.persona.cedula}}</td>
          
          </tr>
        </tbody>
      </table>
    </div>
   

  </div>





</section>
<!-- jQuery 3 -->
<script src="../../../../../assets/bower_components/jquery/dist/jquery.min.js"></script>
<!-- Bootstrap 3.3.7 -->
<script src="../../../../../assets/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<!-- date-range-picker -->
<script src="../../../../../assets/bower_components/moment/min/moment.min.js"></script>
<script src="../../../../../assets/bower_components/bootstrap-daterangepicker/daterangepicker.js"></script>
<!-- bootstrap datepicker -->
<script src="../../../../../assets/bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
<!-- bootstrap color picker -->
<script src="../../../../../assets/bower_components/bootstrap-colorpicker/dist/js/bootstrap-colorpicker.min.js"></script>
<!-- bootstrap time picker -->
<script src="../../../../../assets/plugins/timepicker/bootstrap-timepicker.min.js"></script>

<script>
  $(function () {
    $('#datepicker').datepicker({
      autoclose: true
    })

    //Colorpicker
    $('.my-colorpicker1').colorpicker()
    //color picker with addon
    $('.my-colorpicker2').colorpicker()
  })
</script>

</html>